---
title: 'У вас не Agile'
date: '08-16-2022'
excerpt: 'Рассказываю о том, почему Scrum и Agile могут быть не лучшим выбором для вашей компании'
---

Как же часто мне приходилось слышать от рекрутеров одну и ту же фразу:

> Мы работаем по Agile. Спринты по 1, 2 недели

Но я с уверенностью могу сказать, что ни в одной компании, что я работал, Agile'ом даже и не пахло! И тут я даже не говорю о том, что Agile каким он был задуман в принципе не дошел до массовой культуры разработки (о чем рассказывал один из создателей Agile Дейв Томас [на конференции GOTO 2015](https://www.youtube.com/watch?v=a-BOSpxYJ9M)), я говорю именно о том Agile, который применяется в общем значении этого слова: Kanban и Scrum.

В дальнейшем, на техническом интервью, если спрашивать по пунктам, практически любой реальный работник компании подтвердит вам, что никакого Agile в компании нет, а используются лишь элементы Agile. У меня возникает несколько вопросов:

1. Почему компании так тянутся к Agile, хотя не могут его полностью внедрить?
2. Что мешает компаниям внедрить Agile?
3. Работает ли Agile на самом деле?

Постараюсь ответить на эти вопросы исходя из собственного опыта. Но для начала сделаю небольшое отступление и расскажу собственно, какие бывают распространенные формы Agile.

## Agile

Собственно собой, Agile (который еще называют гибкой методологией разработки) был представлен миру
как набор принципов (манифест), который выкатили миру горстка разработчиков в порыве вдохновения
во время отдыха на горнолыжном курорте. Ну выкатили и выкатили, скажете вы, и что? Что такого было в этом
манифесте, что он стал настолько общепринятым? Да ничего особенного, просто **здравый смысл**.

Это здравый смысл далее был переработан корпоративной машиной и маркетологами, и (простите за мою категоричность) выродился в виде Scrum и Kanban. Которые, при должном подходе, действительно могут работать, но уж слишком оторваны от реальности. Но обо всем по порядку.

## Scrum

Scrum работает по достаточно простой схеме:

* У вас есть беклог (список задач для разработки)
* Каждые 1-2 недели, вы набираете задачи для следующего спринта из беклога
* После этого, каждый день вы проводите совещания (ежедневный Scrum), где обсуждаете результаты работы
* В конце спринта, на отдельном совещании вы обсуждаете результаты спринта
* Раз в заранее оговоренный промежуток времени, вы обсуждаете результаты работы команды и решаете, какие изменения вам необходимо произвести, чтобы работа стала эффективнее
* После того, как заканчивается спринт, начинается новый спринт
* ???
* PROFIT

Также, Scrum подразумевает обязательное наличие Scrum-мастера — человека, единственной задачей которого является обеспечение выполнения принципов Scrum и владельца продукта, который манипулирует приоритетом задач в беклоге и является звеном между бизнесом и разработкой.

Задачи оцениваются не в человеко-часах, а в некоторых абстрактных сторипоинтах (Story points). Один сторипоинт представляет собой сложность некоторой тривиальной задачи, или самой простой задачи в спринте. Далее, все остальные задачи оцениваются как число сторипоинтов относительно этой тривиальной задачи.

## Kanban

Менее строгая с точки зрения организации методология. Все задачи находятся на Kanban доске, разработчики разбирают задачи в порядке приоритета, и перетаскивают их в по этапам разработки. Этапы разработки выбираются произвольно в зависимости от требований команды (например, "Запланировано", "В работе", "Готово к тестированию", "Завершено").

В Kanban нет беклога и спринтов, и нет никаких ролей (Scrum мастера или владельца продукта). Основной целью команды разработки является оптимизация скорости доставки функционала конечному клиенту, что подразумевает отсутствие планирования релизов и [Continious delivery](https://ru.wikipedia.org/wiki/%D0%9D%D0%B5%D0%BF%D1%80%D0%B5%D1%80%D1%8B%D0%B2%D0%BD%D0%B0%D1%8F_%D0%B4%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D0%BA%D0%B0).

## Начнем прожарку

Первое, что хотелось бы сказать. Scrum и Kaban — это достаточно строгие методологии. Принципы, которые в них были заложены не могут быть изменены ни в каком виде. Если вы не выполняете хотя бы один из них, у вас не Scrum и не Kanban:

* Если в вашем проекте нет Scrum-мастера, то забудьте о Scrum
* Если для оценки задач вы используете часы, а не сторипоинты, увольняйте Scrum-мастера
* Если вы планируете вашу Kanban доску на релизы, о каком Kanban может идти речь?
* Если ваш начальник не может найти время на ретро
* Если вы не проводите анализ спринта или никогда не отменяете спринты...

Scrum и Kanban в теории звучат относительно несложно, с ними возникает множество проблем. Разные компании, черт, даже разные команды в рамках одной и той же компании могут иметь совершенно разный взгляд на разработку. И подогнать разработку под строгие требования Scrum и Kanban зачастую становится просто затруднительно.

## Сторипоинты (Story points) вместо часов — это не удобно

Да, я сказал это. Простите, но это безумие. Во первых, совершенно не понятно как мне оценивать сложность задач относительно сложности других задач. Представим, что у нас есть две задачи:

1. Поменять цвет кнопки
2. Создать сложную форму с множеством логики

Условно, возьмем первую задачу как один сторипоинт. Тогда, сколько сторипоинтов у нас займет создание формы? У вас возникли проблемы с оценкой? Вы не одни такие, я также без понятия. Даже если мы условно сможем определить сложность второй задачи используя сторипоинты, ценность этой информации спорна. Действительно, это как знание того, что чтобы разделать мамонта нужно поймать 400 бабочек. Очень познавательно, но крайне неинформативно.

Во вторых, зачем? Нет, даже не так... ЗАЧЕМ?! Это же абсолютно бредовая идея. Давайте подумаем логично. Основой Scrum являются спринты, длина которых ограничена временем (как мы уже говорили, 1-2 недели). Следовательно, при планировании спринта, мы должны набрать столько задач, чтобы уложиться в эти временные рамки. Но как мы можем узнать это, если оцениваем задачи в сторипоинтах? Никак. Если бы спринты ограничивались не человеко-часами, а сторипоинтами, можно было бы хоть как то оправдать сторипоинты, но это не так, и тут я опускаю руки. К тому же, сторипоинты делают невозможным оценку скорости команды, следовательно негативно влияют на анализ скорости разработки.

С точки зрения бизнеса сторипоинты также бесполезны. Когда к вам приходит условный менеджер, и спрашивает, сколько примерно по времени займет реализация вот такого функционала, последнее, что он хочет услышать — это оценку в абстрактных сторипоинтах.

Если вы считаете, что можно оценить задачу в сторипоинтах, а потом перевести их в часы, вы не знаете, что такое сторипоинты, или используете их неправильно. Сделать это невозможно. Если вы можете перевести сторипоинты в часы, избавьтесь от рудимента в виде сторипоинтов и используйте понятные всем человеко-часы. И перестаньте делать вид, что у вас Agile.

## Scrum-мастер: Это что за покемон?

Даже не стоит надолго останавливаться на этом пункте. Scrum-мастер — это не менеджер, это консультант. Он не может участвовать в планировании спринтов, и обсуждать задачи. Он не контролирует показатели, и не ведет совещания. Он не может командовать и принимать решения. Вся его функция — это наблюдать за ходом вашей разработки и давать советы тут и там.

Основная проблема: немногие компании готовы платить неплохие деньги за человека, вся функция которого — учить, как правильно работает Scrum. Даже если команда следует Scrum на все 100%, это не избавляет нас от требования присутствия Scrum-мастера на всех совещаниях, даже если он ничего не делает. В этом идеальном варианте человек получает зарплату, по сути, просиживая штаны.

Для меня, ситуация с Scrum мастером напоминает темный паттерн. Что то похожее я встречал в разработке на 1C. При обновлении, в вашем продукте обязательно что то сломается, и вам придется нанимать специального человека от 1С, который придет и все починит. За отдельную плату, конечно же.

Scrum-мастер — это scam мастер.

Лично я считаю, что нас просто обвели вокруг пальца. Манифест Agile не предполагает никаких людей, которые должны учить Agile. Scrum-мастер — это порождение маркетинга, и компаний, которые занимаются внедрением Scrum. Надо же как то получать прибыль.

Если у вас нет Scrum-мастера, забудьте про Agile.

## Цель спринта

У каждого спринта должна быть цель. То есть, спринт — это не просто набор задач, которые должны быть выполнены к концу спринта, это должен быть законченный цикл разработки, в конце которого мы должны получить рабочую функциональность. Если же выполнить цель спринта не представляется возможным, спринт должен быть отменен, после чего должен быть спланирован новый спринт с новой целью.

Проблема  в том, что многие задачи нельзя запихнуть в рамки спринта. Некоторые особо сложные участки системы требуют тщательного планирования (иногда, месяцами), и подразумевают слишком много рисков. Поэтому задачи начинают кочевать из спринта в спринт, ожидая разрешения возникших проблем. Особенно часто подобная ситуация возникает, когда команда начинает интегрировать внешние продукты или разрабатывать критически важную и сложную часть системы, которая требует взаимодействия нескольких команд.

Другая частая ситуация — из текущего беклога просто не получается сформировать адекватную цель. Тогда, разработчики начинают фантазировать, чтобы хоть как то уложиться в свою методологию разработки. Цирк, скажем честно. В таких случаях Scrum и Kanban просто перестают работать, они не созданы для этого. Как бы это не было парадоксально, им не хватает "гибкости" для подобных ситуаций.

Если вы не ставите цели спринта, или же не проводите в конце спринта совещания с оценкой достижения этих целей — у вас не Agile.

## Итоги

Основная проблема гибких методологий разработки — это "гибкость". Гибкость подразумевает возможность заказчика в любой выставить новые требования к разработке, которые противоречат текущей архитектуре. Такой подход зачастую приводит к "авралам" и массовому рефакторингу в каждом спринте. А также мотивирует разработчиков решать задачи простейшим и быстрейшим из возможных способов (применять подход "работает — и ладно").

Для долгоживущих продуктов подобный подход может, а скорее всего станет причиной превращения кодовой базы в откровенное неподдерживаемое месиво.

Люди чувствуют, что Scrum и Kanban в чистом виде не отвечают требованиям разработки в их компании. Тогда, начинается длительный процесс мутации методологии в что то, что хоть как то будет работать. Иногда, это затягивается на месяцы, или даже годы. Но Agile настолько укрепился в качестве методологии "де-факто", что каждый раз, когда возникает возможность, люди снова стараются откатиться и внедрить ее. Это похоже на извращенные детские качели, которые постоянно склоняются то в сторону Agile, то в сторону альтернативных методологий.

Поймите: если в вашей компании Scrum не работает, это не потому что вы неправильно используете Scrum. Не потому что у вас неправильная команда. Увольте вашего Scrum мастера, откажитесь от идеи Scrum (или Kabnan), и разработайте собственную методологию. Такую, которая покроет нужды именно вашей компании.

Всем кода.